import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import math
from scipy import stats

y = np.array([2.13796209,3.981071706,16.59586907,19.95262315,23.71373706,29.51209227,35.48133892,44.66835922,57.54399373,70.79457844,89.12509381,
120.2264435,147.9108388,186.2087137,199.5262315,223.8721139,239.8832919,269.1534804,281.8382931,316.227766,354.8133892,416.8693835,426.5795188,457.0881896,478.6300923,501.1872336,524.8074602,
543.2503315,562.3413252,562.3413252,575.4399373,595.6621435,575.4399373,562.3413252,543.2503315,537.0317964,524.8074602,501.1872336,478.6300923,457.0881896,426.5795188,416.8693835,354.8133892,316.227766,
281.8382931,269.1534804,239.8832919,223.8721139,199.5262315,186.2087137,147.9108388,120.2264435,89.12509381,70.79457844,57.54399373,44.66835922,35.48133892,29.51209227,23.71373706,19.95262315,16.59586907,3.981071706, 2.13796209])

x = np.array([-220,-210,-200,-190,-180,-170,-160,-150,-140,-130,-120,-110,-100,-90,-85,-80,-75,-70,-65,-60,-55,-50,-45,-40,-35,-30,-25,-20,-15,-10,-5,
0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,100,110,120,130,140,150,160,170,180,190,200,210,220])

x2 = np.array([0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,100,110,120,130,140,150,160,170,180,190,200,210,220])

y2 = 595.6621435*(np.exp(-0.017*x2))

# Convertir les données en un DataFrame de Pandas
data = pd.DataFrame({'x': x, 'y': y})

# Calculer la moyenne mobile avec une fenêtre de taille 3
rolling_mean = data['y'].rolling(window=3, center=True).mean()

# Tracer les points de données et la courbe de tendance moyenne mobile
plt.scatter(x, y, label='Données')
plt.plot(x, rolling_mean, color='red', label='Courbe de tendance moyenne mobile')

# Ajouter une légende
plt.legend()
plt.grid(True)
# Afficher le graphique
plt.show()